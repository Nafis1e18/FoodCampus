<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  th:replace="~{base::layout(~{::section})}">
<head>
	<meta charset="ISO-8859-1">
	<title>Login - FoodCampus</title>
</head>
<body>
<section>
	<!-- Gradient Background Container -->
	<div class="container-fluid" style="min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 80px 0;">
		<div class="container">
			<div class="row align-items-center justify-content-center" style="min-height: 80vh;">

				<!-- Left Side - Welcome Image/Content -->
				<div class="col-lg-6 col-md-6 mb-4 mb-md-0">
					<div class="text-center text-white" style="animation: fadeInLeft 1s ease-in-out;">
						<!-- Logo/Brand Section -->
						<div class="mb-4">
							<i class="fa-solid fa-hamburger" style="font-size: 5rem; animation: bounce 2s infinite;"></i>
						</div>

						<h1 class="display-4 fw-bold mb-3" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
							Welcome to FoodCampus! ?
						</h1>
						<p class="lead mb-4" style="font-size: 1.3rem; opacity: 0.95;">
							Your favorite food is just a click away
						</p>

						<!-- Feature Icons -->
						<div class="row mt-5 text-white">
							<div class="col-4">
								<div class="feature-box" style="animation: fadeInUp 1s ease-in-out 0.2s both;">
									<i class="fa-solid fa-truck-fast fa-3x mb-3"></i>
									<p class="fw-bold">Fast Delivery</p>
								</div>
							</div>
							<div class="col-4">
								<div class="feature-box" style="animation: fadeInUp 1s ease-in-out 0.4s both;">
									<i class="fa-solid fa-heart-pulse fa-3x mb-3"></i>
									<p class="fw-bold">AI Suggestions</p>
								</div>
							</div>
							<div class="col-4">
								<div class="feature-box" style="animation: fadeInUp 1s ease-in-out 0.6s both;">
									<i class="fa-solid fa-star fa-3x mb-3"></i>
									<p class="fw-bold">Quality Food</p>
								</div>
							</div>
						</div>

						<!-- Decorative Image -->
						<div class="mt-4" style="animation: float 3s ease-in-out infinite;">
							<img alt="Food Campus"
								 src="img/ecom.png"
								 class="img-fluid"
								 style="max-height: 300px; filter: drop-shadow(0 10px 30px rgba(0,0,0,0.3)); border-radius: 15px;">
						</div>
					</div>
				</div>

				<!-- Right Side - Login Form -->
				<div class="col-lg-5 col-md-6">
					<div class="card border-0 shadow-lg"
						 style="border-radius: 20px; overflow: hidden; animation: fadeInRight 1s ease-in-out; backdrop-filter: blur(10px); background: rgba(255,255,255,0.95);">

						<!-- Card Header -->
						<div class="card-header text-white text-center border-0"
							 style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px;">
							<h3 class="mb-0 fw-bold">
								<i class="fa-solid fa-right-to-bracket"></i> Sign In
							</h3>
							<p class="mb-0 mt-2" style="opacity: 0.9;">Enter your credentials to continue</p>
						</div>

						<!-- Alert Messages -->
						<div class="px-4 pt-3">
							<!-- Error Alert -->
							<div th:if="${param.error}"
								 class="alert alert-danger alert-dismissible fade show"
								 role="alert"
								 style="border-radius: 10px; border-left: 4px solid #dc3545;">
								<i class="fa-solid fa-circle-exclamation"></i>
								<th:block th:if="${session.SPRING_SECURITY_LAST_EXCEPTION!=null}">
									<strong>Login Failed!</strong> [[${session.SPRING_SECURITY_LAST_EXCEPTION.message}]]
								</th:block>
								<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							</div>

							<!-- Success Alert -->
							<div th:if="${param.logout}"
								 class="alert alert-success alert-dismissible fade show"
								 role="alert"
								 style="border-radius: 10px; border-left: 4px solid #28a745;">
								<i class="fa-solid fa-check-circle"></i>
								<strong>Success!</strong> You have been logged out successfully.
								<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
							</div>
						</div>

						<!-- Card Body - Login Form -->
						<div class="card-body p-4">
							<form action="/login" method="post">

								<!-- Email Field -->
								<div class="mb-4">
									<label class="form-label fw-bold" style="color: #333;">
										<i class="fa-solid fa-envelope"></i> Email Address
									</label>
									<div class="input-group">
                                  <span class="input-group-text"
										style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                                     <i class="fa-solid fa-user"></i>
                                  </span>
										<input required
											   class="form-control form-control-lg"
											   name="username"
											   type="email"
											   placeholder="Enter your email"
											   style="border: 2px solid #e9ecef; border-left: none; transition: all 0.3s ease;"
											   onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 0.2rem rgba(102, 126, 234, 0.25)';"
											   onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none';">
									</div>
								</div>

								<!-- Password Field -->
								<div class="mb-4">
									<label class="form-label fw-bold" style="color: #333;">
										<i class="fa-solid fa-lock"></i> Password
									</label>
									<div class="input-group">
                                  <span class="input-group-text"
										style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                                     <i class="fa-solid fa-key"></i>
                                  </span>
										<input required
											   class="form-control form-control-lg"
											   name="password"
											   type="password"
											   id="passwordField"
											   placeholder="Enter your password"
											   style="border: 2px solid #e9ecef; border-left: none; border-right: none; transition: all 0.3s ease;"
											   onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 0.2rem rgba(102, 126, 234, 0.25)';"
											   onblur="this.style.borderColor='#e9ecef'; this.style.boxShadow='none';">
										<button class="btn"
												type="button"
												onclick="togglePassword()"
												style="border: 2px solid #e9ecef; border-left: none; background: white;">
											<i class="fa-solid fa-eye" id="toggleIcon"></i>
										</button>
									</div>
								</div>

								<!-- Remember Me & Forgot Password -->
								<div class="d-flex justify-content-between align-items-center mb-4">
									<div class="form-check">
										<input class="form-check-input" type="checkbox" id="rememberMe">
										<label class="form-check-label" for="rememberMe" style="color: #666;">
											Remember me
										</label>
									</div>
									<a href="/forgot-password"
									   class="text-decoration-none fw-bold"
									   style="color: #667eea; transition: all 0.3s ease;"
									   onmouseover="this.style.color='#764ba2';"
									   onmouseout="this.style.color='#667eea';">
										Forgot Password?
									</a>
								</div>

								<!-- Login Button -->
								<div class="d-grid mb-3">
									<button type="submit"
											class="btn btn-lg fw-bold"
											style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                              color: white;
                                              border: none;
                                              border-radius: 10px;
                                              padding: 15px;
                                              box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
                                              transition: all 0.3s ease;"
											onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 25px rgba(102, 126, 234, 0.6)';"
											onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 5px 15px rgba(102, 126, 234, 0.4)';">
										<i class="fa-solid fa-right-to-bracket"></i> Sign In
									</button>
								</div>

								<!-- Divider -->
								<div class="text-center my-3">
									<span class="text-muted">or continue with</span>
								</div>

								<!-- Social Login Buttons -->
								<div class="row g-2 mb-3">
									<div class="col-6">
										<button type="button"
												class="btn btn-outline-danger w-100"
												style="border-radius: 10px; transition: all 0.3s ease;"
												onmouseover="this.style.background='#dc3545'; this.style.color='white';"
												onmouseout="this.style.background='white'; this.style.color='#dc3545';">
											<i class="fa-brands fa-google"></i> Google
										</button>
									</div>
									<div class="col-6">
										<button type="button"
												class="btn btn-outline-primary w-100"
												style="border-radius: 10px; transition: all 0.3s ease;"
												onmouseover="this.style.background='#0d6efd'; this.style.color='white';"
												onmouseout="this.style.background='white'; this.style.color='#0d6efd';">
											<i class="fa-brands fa-facebook"></i> Facebook
										</button>
									</div>
								</div>
							</form>
						</div>

						<!-- Card Footer -->
						<div class="card-footer text-center bg-light border-0" style="padding: 20px;">
							<p class="mb-0" style="color: #666;">
								Don't have an account?
								<a href="register"
								   class="text-decoration-none fw-bold"
								   style="color: #667eea; transition: all 0.3s ease;"
								   onmouseover="this.style.color='#764ba2';"
								   onmouseout="this.style.color='#667eea';">
									Create one <i class="fa-solid fa-arrow-right"></i>
								</a>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Custom CSS Animations -->
	<style>
		@keyframes fadeInLeft {
			from {
				opacity: 0;
				transform: translateX(-50px);
			}
			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		@keyframes fadeInRight {
			from {
				opacity: 0;
				transform: translateX(50px);
			}
			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		@keyframes bounce {
			0%, 20%, 50%, 80%, 100% {
				transform: translateY(0);
			}
			40% {
				transform: translateY(-20px);
			}
			60% {
				transform: translateY(-10px);
			}
		}

		@keyframes float {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-15px);
			}
		}

		/* Input Focus Effects */
		.form-control:focus {
			border-color: #667eea !important;
			box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25) !important;
		}

		/* Card Hover Effect */
		.card {
			transition: transform 0.3s ease;
		}
	</style>

	<!-- Password Toggle Script -->
	<script>
		function togglePassword() {
			const passwordField = document.getElementById('passwordField');
			const toggleIcon = document.getElementById('toggleIcon');

			if (passwordField.type === 'password') {
				passwordField.type = 'text';
				toggleIcon.classList.remove('fa-eye');
				toggleIcon.classList.add('fa-eye-slash');
			} else {
				passwordField.type = 'password';
				toggleIcon.classList.remove('fa-eye-slash');
				toggleIcon.classList.add('fa-eye');
			}
		}
	</script>
</section>
</body>
</html>
